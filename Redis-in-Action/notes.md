* 非关系型数据库(non-relational database)
* 主数据库(primary database)
* 辅助数据库(auxiliary database)
* 内存存储(in-memoriy)
* 主存储(primary storage)
* 二级存储(secondary storage)



* 数据说话

```
用户可以很方便的将Redis扩展成一个包含数百GB数据,每秒处理上百万次请求.
```
```
tips:
数百G,上百万次
```
* Redis定义

```
是一个远程内存数据库,存储键和5种不同类型的值的映射,可以将存储在内存的键值对(K-V模型)数据持久化到硬盘,可以使用复制特性来扩展读性能,可以使用客户端分片来扩展写性能.
```

```
tips:
1.Redis的读写比关系型数据库快有一个关键的硬件原因在于Redis是内存级别的，而关系型数据库是磁盘级别的
2.容器都涉及一个读和写,IO经常会形成一个性能瓶颈所在,IO瓶颈又可以细分读和写两种.Redis通过复制特性来提升读性能,通过客户端分片来提升写性能.
```

```
tips:
通过客户端分片来提升写性能?
分片是一种将数据划分为多个部分的方法,怎么划分可以基于键包含的ID，基于键的散列值,或者基于以上两种.通过对数据进行分片,可以将数据存储到多台机器里面，也可以从多台机器里面获取数据.

所以分片本质上是为解决写性能的一个解决方案，但是分片同样可以提升读性能，因为数据存储到了多台机器上,那么读的并发性也提升了.阿里云产品消息中间件datahub也有一个分片功能，类似的效果.

通过复制特性来提升读性能?
复制特性除了提升读性能还有一个作用,故障转移(高可用).
(1)执行复制的从服务器会连接上主服务器,接收整个数据库的处始副本;
(2)之后主服务器执行的写(修改)命令,都会被发送给所有连接着的从服务器去执行,从而实时的更新从服务器的数据集.也就是主从服务器数据是一致的,所以客户端可以向任意一个从服务器发送读请求,避免对主服务器进行集中式的访问.


注意,Redis的主从复制(数据同步)机制不同阶段不一样的,
(1)从刚开始连接上主时,主会将那一刻它的整个数据副本数据传输给从,传输的是数据内容本身,这里显然是耗时的;
(2)从连上主后,数据同步是通过主将后续的数据写指令(修改指令)发送给从实现的,传输的是指令而非数据内容. 
```

* Redis和memcached的比较

```
在缓存存储上，这两者经常会作为比较.
异:
1.存储的数据类型.memcached只能存储字符串,而Redis除了字符串还有其余4种.
2.持久化方式.Redis支持自动以两种方式将数据写入硬盘(持久化).分别是snashot(RDB)快照方式,一种是Append only file(AOF).

同:
1.都是内存存储(in-memory)
2.性能上相差无几.

总结:Redis比memcached拥有更广泛的应用场景,并且能解决更广泛的问题.
Redis和其它存储的更多比较见P4表1-1.
```

* Redis和关系型数据库比较

```
异:
1.底层存储不同.关系型数据库数据写入到硬盘,Redis写入到内存.
2.性能不同.内存级别比硬盘级别更快.
3.约束不同.一个是非关系型的,不会要求Redis存储的不同数据进行关联.
同:
1.都存储数据.
```

* 什么时候使用Redis

```
1.程序对性能要求是不是很高,高到关系型数据库解决不了了.
2.使用Redis的话费用是否足够
3.当Redis服务器被关闭时,服务器存储的数据将何去何从.
```



* Redis值的数据结构类型	

```
Redis是个K-V映射模型，那么V中能支持5种数据结构类型.分别是STRING(字符串),LIST（列表),SET(集合),HASH(散列),ZSET(有序集合)

更详细的见P6表1-2
```

```
tips:
这个也是面试时经常考察redis时经常被问到的一个问题,其实Redis是个很容易使用的一个K-V映射集合,那么经常说到的数据结构类型,其实指的是K-V中的V支持的数据结构.注意是数据结构类型而不是数据类型,因为STRING数据结构中其实支持字符串,整数,浮点数.
ZSET和SET,LIST和容易混淆:
ZSET:虽然是称为有序集合,但其实它的结构和HASH类似,都是键值对,而不是SET,这点得注意.和SET相同的是ZSET中的键各不相同.而且ZSET中的值必须为浮点数.
SET:无序,不重复
LIST:有序,可重复
```

* 字符串数据结构类型

```
相关命令:
GET:获取存储在给定键中的值
SET:设置存储在给定键中的值
DEL:删除存储在给定键中的值(这个命令可以用于所有类型)
```

```
tips:
(1)Redis中每种数据结构类型都有其特有的一些命令,也有些命令是所有数据结构类型通用的,比如DEL.
(2)虽然命令众多,但是从大的方向上也就是4种,增删改查.比如get其实就是查操作,DEL就是删操作,SET包括了增和改操作.所以使用命令的时候可以把它们进行归类下,有助于记忆.
(3)平时使用的时候注意留意下各个命令的执行返回值.
```

* 列表数据结构类型

```
相关命令:
RPUSH:将给定值推入列表的右端
LRANGE:获取列表在给定范围上的所有值
LINDEX:获取列表在给定位置上的单个元素
LPOP:从列表的左端弹出一个值,并返回被弹出的值
```

* 集合数据结构类型

```
相关命令:
SADD:将给定元素添加到集合
SMEMBERS:返回集合包含的所有元素
SISMEMBER:检查给定元素是否在于集合中
SREM:如果给定的元素存在于集合中,那么移除这个元素
```

* 散列数据结构类型

```
相关命令:
HSET:在散列里面关联起给定的键值对
HGET:获取指定散列键的值
HGETALL:获取散列包含的所有键值对
HDEL:如果给定键存在于散列中里面,那么移除这个键
```

* 有序集合数据结构

```
相关命令:
ZADD:将一个带有给定分值对成员添加到有序集合里面
ZRANGE:根据元素在有序排列中所处的位置,从有序集合里面获取多个元素
ZRANGEBYSCORE:获取有序集合在给定分值范围内的所有元素
ZREM:如果给定成员存在于有序集合，那么移除这个成员
```

```
tips:
注意ZSET和其它数据结构的区别,它和集合相似的地方在于ZSET中的键是不允许重复的,它和HASH类似的地方在于它也是K-V型数据结构.另外,ZSET中的V必须是数字.
```



